import{s as le,e as d,a as R,t as oe,c as _,b as P,f as k,g as T,l as _e,d as ie,m as l,z as te,y as V,i as J,h as c,u as A,o as F,D as he,j as ge,r as ve,k as se,O as be,p as ye,q as je,n as Q,B as re}from"../chunks/scheduler.DCHIdItQ.js";import{S as ue,i as ce,g as ke,b as G,d as Ee,t as H,c as pe,a as fe,m as me,e as de}from"../chunks/index.BPubO7i7.js";import{g as we}from"../chunks/entry.D7BuMwTx.js";import{R as Ie}from"../chunks/authentication.DJ3ISZ87.js";import{l as ae,s as De}from"../chunks/stores.CDP2pJ8Z.js";import{L as Le}from"../chunks/LoadingCircle.DD_T3a5K.js";function ne(s){let e;return{c(){e=d("img"),this.h()},l(t){e=_(t,"IMG",{alt:!0,class:!0}),this.h()},h(){l(e,"alt","pfp"),l(e,"class","svelte-reaj1c")},m(t,r){J(t,e,r),s[12](e)},p:Q,d(t){t&&k(e),s[12](null)}}}function Pe(s){let e;return{c(){e=oe("Submit")},l(t){e=ie(t,"Submit")},m(t,r){J(t,e,r)},i:Q,o:Q,d(t){t&&k(e)}}}function Se(s){let e,t;return e=new Le({}),{c(){pe(e.$$.fragment)},l(r){fe(e.$$.fragment,r)},m(r,u){me(e,r,u),t=!0},i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){G(e.$$.fragment,r),t=!1},d(r){de(e,r)}}}function Ne(s){let e,t,r,u,i,f,h="Enter a profile picture",I,m,U,D,E,b,O,L,y,q,j,g,a,S,v,B=s[0].response+"",z,w,K,W,p=s[4]&&ne(s);const X=[Se,Pe],N=[];function Y(n,o){return n[1]?0:1}return g=Y(s),a=N[g]=X[g](s),{c(){e=d("form"),t=d("div"),r=d("input"),u=R(),i=d("div"),f=d("label"),f.textContent=h,I=R(),m=d("input"),U=R(),p&&p.c(),D=R(),E=d("div"),b=d("input"),O=R(),L=d("div"),y=d("input"),q=R(),j=d("button"),a.c(),S=R(),v=d("span"),z=oe(B),this.h()},l(n){e=_(n,"FORM",{class:!0});var o=P(e);t=_(o,"DIV",{class:!0});var C=P(t);r=_(C,"INPUT",{type:!0,placeholder:!0,class:!0}),C.forEach(k),u=T(o),i=_(o,"DIV",{class:!0});var M=P(i);f=_(M,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),_e(f)!=="svelte-148uxtr"&&(f.textContent=h),I=T(M),m=_(M,"INPUT",{id:!0,type:!0,accept:!0,class:!0}),U=T(M),p&&p.l(M),M.forEach(k),D=T(o),E=_(o,"DIV",{class:!0});var Z=P(E);b=_(Z,"INPUT",{type:!0,placeholder:!0,class:!0}),Z.forEach(k),O=T(o),L=_(o,"DIV",{class:!0});var $=P(L);y=_($,"INPUT",{type:!0,placeholder:!0,class:!0}),$.forEach(k),q=T(o),j=_(o,"BUTTON",{type:!0,style:!0,class:!0});var x=P(j);a.l(x),x.forEach(k),S=T(o),v=_(o,"SPAN",{class:!0});var ee=P(v);z=ie(ee,B),ee.forEach(k),o.forEach(k),this.h()},h(){l(r,"type","text"),l(r,"placeholder","Enter your username"),l(r,"class","svelte-reaj1c"),l(t,"class","svelte-reaj1c"),l(f,"for","file-input"),l(f,"class","svelte-reaj1c"),l(m,"id","file-input"),l(m,"type","file"),l(m,"accept",".jpg, .jpeg, .png"),l(m,"class","svelte-reaj1c"),l(i,"class","pfp-input-container svelte-reaj1c"),l(b,"type","email"),l(b,"placeholder","Enter your email"),l(b,"class","svelte-reaj1c"),l(E,"class","svelte-reaj1c"),l(y,"type","text"),l(y,"placeholder","Enter your password"),l(y,"class","svelte-reaj1c"),l(L,"class","svelte-reaj1c"),l(j,"type","submit"),te(j,"pointer-events",s[1]?"none":"auto"),l(j,"class","svelte-reaj1c"),l(v,"class","svelte-reaj1c"),V(v,"error",s[0].status==="error"),V(v,"success",s[0].status==="success"),l(e,"class","svelte-reaj1c"),V(e,"dark",s[6])},m(n,o){J(n,e,o),c(e,t),c(t,r),A(r,s[2].username),c(e,u),c(e,i),c(i,f),c(i,I),c(i,m),s[10](m),c(i,U),p&&p.m(i,null),c(e,D),c(e,E),c(E,b),A(b,s[2].email),c(e,O),c(e,L),c(L,y),A(y,s[2].password),c(e,q),c(e,j),N[g].m(j,null),c(e,S),c(e,v),c(v,z),w=!0,K||(W=[F(r,"input",s[9]),F(m,"change",s[11]),F(b,"input",s[13]),F(y,"input",s[14]),F(e,"submit",he(s[15]))],K=!0)},p(n,[o]){o&4&&r.value!==n[2].username&&A(r,n[2].username),n[4]?p?p.p(n,o):(p=ne(n),p.c(),p.m(i,null)):p&&(p.d(1),p=null),o&4&&b.value!==n[2].email&&A(b,n[2].email),o&4&&y.value!==n[2].password&&A(y,n[2].password);let C=g;g=Y(n),g!==C&&(ke(),G(N[C],1,1,()=>{N[C]=null}),Ee(),a=N[g],a||(a=N[g]=X[g](n),a.c()),H(a,1),a.m(j,null)),(!w||o&2)&&te(j,"pointer-events",n[1]?"none":"auto"),(!w||o&1)&&B!==(B=n[0].response+"")&&ge(z,B),(!w||o&1)&&V(v,"error",n[0].status==="error"),(!w||o&1)&&V(v,"success",n[0].status==="success"),(!w||o&64)&&V(e,"dark",n[6])},i(n){w||(H(a),w=!0)},o(n){G(a),w=!1},d(n){n&&k(e),s[10](null),p&&p.d(),N[g].d(),K=!1,ve(W)}}}function Re(s,e,t){let r,u,i;se(s,ae,a=>t(16,u=a)),se(s,De,a=>t(8,i=a));const f=be();let h={username:"",email:"",password:""},{response:I={}}=e,m,U=!1,D;ye(()=>{je(ae,u.goPast=!0,u)});let E=!1;function b(){h.username=this.value,t(2,h)}function O(a){re[a?"unshift":"push"](()=>{m=a,t(3,m)})}const L=()=>{const a=m.files[0];a&&t(4,U=!0);const S=new FileReader;S.readAsDataURL(a),S.addEventListener("load",()=>{const v=S.result;D.setAttribute("src",String(v)),t(2,h.profilepicture=String(v),h)})};function y(a){re[a?"unshift":"push"](()=>{D=a,t(5,D)})}function q(){h.email=this.value,t(2,h)}function j(){h.password=this.value,t(2,h)}const g=()=>{t(0,I={response:"",status:""}),t(1,E=!0),f("register",h)};return s.$$set=a=>{"response"in a&&t(0,I=a.response)},s.$$.update=()=>{s.$$.dirty&256&&t(6,r=!i.LightMode),s.$$.dirty&3&&E&&t(1,E=Object.values(I).every(a=>a.length===0))},[I,E,h,m,U,D,r,f,i,b,O,L,y,q,j,g]}class Te extends ue{constructor(e){super(),ce(this,e,Re,Ne,le,{response:0})}}function Ue(s){let e,t,r;return t=new Te({props:{response:s[0]}}),t.$on("register",s[1]),{c(){e=d("div"),pe(t.$$.fragment),this.h()},l(u){e=_(u,"DIV",{class:!0});var i=P(e);fe(t.$$.fragment,i),i.forEach(k),this.h()},h(){l(e,"class","container svelte-1aq9cwm")},m(u,i){J(u,e,i),me(t,e,null),r=!0},p(u,[i]){const f={};i&1&&(f.response=u[0]),t.$set(f)},i(u){r||(H(t.$$.fragment,u),r=!0)},o(u){G(t.$$.fragment,u),r=!1},d(u){u&&k(e),de(t)}}}function Ce(s,e,t){let r={response:""};return[r,async i=>{t(0,r=await Ie(i.detail)),we(`/authorize/${r.id}`)}]}class Fe extends ue{constructor(e){super(),ce(this,e,Ce,Ue,le,{})}}export{Fe as component};
